/* Base reset & typography */
* { box-sizing: border-box; }
html, body, #root { height: 100%; margin: 0; padding: 0; }
body { font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif; -webkit-font-smoothing: antialiased; }

:root {
  --bg: #f5f7fa;
  --bg-alt: #ffffff;
  --border: #d0d7de;
  --border-strong: #b6bec7;
  --text: #1f2328;
  --text-dim: #5e6975;
  --accent: #2563eb;
  --accent-hover: #1d4ed8;
  --danger: #dc2626;
  --shadow: 0 1px 2px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.06);
  --panel-bg: #ffffff;
  --status-bg: #f0f2f5;
  --btn-bg: #eef2f6;
  --btn-bg-active: #dbe4ee;
  --btn-border: #c3ccd5;
  --editor-border: #c9d2dc;
}
html.dark {
  --bg: #0f1214;
  --bg-alt: #161a1d;
  --border: #2b3136;
  --border-strong: #3a4248;
  --text: #e5e7eb;
  --text-dim: #9ca3af;
  --accent: #3b82f6;
  --accent-hover: #2563eb;
  --danger: #f87171;
  --shadow: 0 1px 2px rgba(0,0,0,0.7),0 0 0 1px rgba(255,255,255,0.02);
  --panel-bg: #161a1d;
  --status-bg: #1d2327;
  --btn-bg: #1e252a;
  --btn-bg-active: #283037;
  --btn-border: #394249;
  --editor-border: #2b3136;
}

body { background: var(--bg); color: var(--text); }

.app-shell { display: flex; flex-direction: column; height: 100%; }
.top-bar { display: flex; align-items: center; gap: 8px; padding: 4px 10px; border-bottom: 1px solid var(--border); background: var(--bg-alt); box-shadow: var(--shadow); }
.top-bar strong { font-weight: 600; letter-spacing: .5px; }

button { font: inherit; }
.btn { background: var(--btn-bg); border: 1px solid var(--btn-border); color: var(--text); padding: 4px 10px; border-radius: 4px; cursor: pointer; line-height: 1.2; display: inline-flex; align-items: center; gap: 4px; }
.btn:hover { background: var(--btn-bg-active); }
.btn.accent { background: var(--accent); border-color: var(--accent); color: #fff; }
.btn.accent:hover { background: var(--accent-hover); }

.workspace { flex: 1; display: flex; overflow: hidden; }
.editor-column { flex: 2; min-width: 0; display: flex; flex-direction: column; }
.editor-wrapper { flex: 1; min-height: 0; border-bottom: 1px solid var(--editor-border); }
.panel-tabs { display: flex; gap: 4px; padding: 3px 6px; border-top: 1px solid var(--border); background: var(--bg-alt); box-shadow: inset 0 1px 0 var(--border); }
.panel-tabs button { background: transparent; border: 1px solid var(--border); padding: 3px 8px; border-radius: 4px; font-size: 12px; color: var(--text-dim); }
.panel-tabs button.active { background: var(--btn-bg-active); color: var(--text); font-weight: 500; }
.panel-area { flex: 1; overflow: hidden; background: var(--panel-bg); border-top: 1px solid var(--border); }

.sidebar { width: 340px; border-left: 1px solid var(--border); background: var(--panel-bg); display: flex; flex-direction: column; }
.sidebar-header { padding: 6px 10px; font-size: 12px; font-weight: 600; border-bottom: 1px solid var(--border); background: var(--bg-alt); letter-spacing: .5px; }
.sidebar-body { padding: 8px 10px; font-size: 12px; overflow: auto; line-height: 1.5; }
.status-footer { font-size: 12px; padding: 4px 10px; border-top: 1px solid var(--border); display: flex; gap: 18px; background: var(--status-bg); font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }

.mono { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
.truncate { max-width: 420px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Scrollbars */
* { scrollbar-width: thin; scrollbar-color: var(--border) transparent; }
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb { background: var(--border); border-radius: 6px; border: 2px solid var(--panel-bg); }
*::-webkit-scrollbar-thumb:hover { background: var(--border-strong); }

/* Utility */
.grow { flex: 1; }

/* Diagnostic highlight */
.monaco-editor .diag-highlight { background: rgba(255, 99, 71, 0.25); outline: 1px solid rgba(255,99,71,0.55); border-radius: 2px; }
.monaco-editor .diag-highlight-inline { background: rgba(255, 99, 71, 0.15); }
